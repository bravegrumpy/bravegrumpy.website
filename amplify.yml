version: 2
frontend:
  phases:
    preBuild:
      commands:
        - 'npm ci --cache .np --prefer-offline'
    build:
      commands:
        - 'npm run build'
        - 'cd build/compute/default/'
        - 'npm i --production'
  
  artifacts:
    baseDirectory: dist
    files:
      - '**/*'
  
  cache:
    paths:
      - '.npm/**/*'